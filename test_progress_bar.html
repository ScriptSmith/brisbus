<!DOCTYPE html>
<html>
<head>
  <title>Progress Bar Test</title>
  <style>
    .refresh-progress-container {
      height: 3px;
      background: #e8e8e8;
      border-radius: 0 0 12px 12px;
      overflow: hidden;
      margin: 14px -16px -14px -16px;
      position: relative;
      width: 400px;
    }
    
    .refresh-progress-bar {
      height: 100%;
      background: linear-gradient(to right, #0077cc, #00aaff);
      width: 0%;
      transition: width 0.1s linear;
      border-radius: 0 0 12px 0;
    }
    
    .refresh-progress-container.paused .refresh-progress-bar {
      background: #ccc;
    }
  </style>
</head>
<body>
  <h1>Progress Bar Test</h1>
  <div class="refresh-progress-container">
    <div class="refresh-progress-bar" id="progressBar"></div>
  </div>
  <button id="startBtn">Start</button>
  <button id="pauseBtn">Pause</button>
  <button id="resetBtn">Reset</button>
  
  <script>
    const REFRESH_INTERVAL_MS = 10000;
    const progressBar = document.getElementById('progressBar');
    const container = progressBar.parentElement;
    let progressInterval = null;
    let progressStartTime = null;
    
    function startProgressBar() {
      stopProgressBar();
      progressStartTime = Date.now();
      progressBar.style.width = '0%';
      container.classList.remove('paused');
      
      progressInterval = setInterval(() => {
        const elapsed = Date.now() - progressStartTime;
        const progress = Math.min((elapsed / REFRESH_INTERVAL_MS) * 100, 100);
        progressBar.style.width = progress + '%';
        
        if (progress >= 100) {
          progressStartTime = Date.now();
        }
      }, 100);
    }
    
    function stopProgressBar() {
      if (progressInterval) {
        clearInterval(progressInterval);
        progressInterval = null;
      }
      progressBar.style.width = '0%';
      container.classList.add('paused');
    }
    
    document.getElementById('startBtn').addEventListener('click', startProgressBar);
    document.getElementById('pauseBtn').addEventListener('click', stopProgressBar);
    document.getElementById('resetBtn').addEventListener('click', () => {
      if (progressInterval) {
        progressStartTime = Date.now();
        progressBar.style.width = '0%';
      }
    });
    
    // Auto-start for testing
    startProgressBar();
  </script>
</body>
</html>
